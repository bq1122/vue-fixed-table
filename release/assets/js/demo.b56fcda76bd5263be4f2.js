webpackJsonp([1],{"+IeH":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("51yV"),l=s.n(i),o=s("L/hj");const r=navigator.userAgent,n=/Firefox/.test(r);e.default={components:{scrollxbar:l.a},props:{offsetLeft:{type:[String,Number],default:0},offsetTop:{type:[String,Number],default:0},scrollTarget:{},useOpacity:Boolean,selfScroll:{type:Boolean,default:!1}},data:()=>({clientRect:{top:0,left:0,right:0,bottom:0},targetOffset:{top:0,left:0},fixed:{top:!1,left:!1},resizeObserver:void 0,hoverObserver:void 0,container:{paddingTop:0},tleftWidth:0,topChange:!1,leftChange:!1,topChangeTimer:void 0,leftChangeTimer:void 0,updateTimer:void 0,scrollTimer:void 0,scrolling:!1,iframe:{}}),computed:{theadStyle(){return{transform:`translate3d(0px, ${this.fixed.top?-this.clientRect.top:0}px, 1px)`,opacity:this.topChange?"0":"1"}},leftStyle(){return{transform:`translate3d(${this.fixed.left?this.offsetLeft-this.clientRect.left:0}px, 0px, 0px)`,width:"initial",opacity:this.leftChange?"0":"1"}},cornerStyle(){return{transform:`translate3d(0px, ${this.fixed.top?-this.clientRect.top:0}px, 1px)`,opacity:this.topChange||this.leftChange?"0":"1"}},containerStyle(){return{zIndex:this.scrolling?"1":""}},scroller(){if(!this.scrollTarget)return window;let t;if(t="string"==typeof this.scrollTarget?document.querySelector(this.scrollTarget):this.scrollTarget){const e=Object(o.d)(t,"position");"absolute"!==e&&"fixed"!==e&&(t.style.position="relative")}return this.getTargetOffsetParent(this.$refs.content,t),t},xScroller(){return this.$refs.content},isFixLeft(){return!!this.$slots.fixleft}},mounted(){this.scroller.addEventListener("scroll",this.scrollHandle,!1),this.selfScroll&&this.xScroller.addEventListener("scroll",this.scrollHandle,!1),this.iframe=Object(o.a)(this.$refs.leftClone,this.resizeHandel),this.isFixLeft&&(this.hoverObserver=new MutationObserver(this.addHoverHandle),this.hoverObserver.observe(this.$refs.tbody,{childList:!0,subtree:!0})),this.addHoverHandle(),this.update()},activated(){this.scrollPositionInit()},beforeDestroy(){this.scroller.removeEventListener("scroll",this.scrollHandle),this.selfScroll&&this.xScroller.removeEventListener("scroll",this.scrollHandle),this.iframe.removeEventListener("resize",this.resizeHandel)},methods:{addHoverHandle(){if(this.isFixLeft){const t=this.$refs.tbody.querySelectorAll("tbody tr");this.$refs.leftClone.querySelectorAll("tbody tr").forEach((e,s)=>{const i=()=>{t[s].classList.add("hover"),e.classList.add("hover")},l=()=>{t[s].classList.remove("hover"),e.classList.remove("hover")};e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",l),t[s].addEventListener("mouseenter",i),t[s].addEventListener("mouseleave",l)})}},getTargetOffsetParent(t,e){let s=t.offsetTop,i=t.offsetLeft;for(t=t.parentElement;t&&t!==e;)s+=t.offsetTop,i+=t.offsetLeft,t=t.parentElement;this.targetOffset.left=i,this.targetOffset.top=s},getPointOffsetParent(){const t=this.targetOffset.left;return{top:this.targetOffset.top-(this.scrollTarget?this.scroller.scrollTop:Object(o.c)()),left:t-(this.scrollTarget?this.scroller.scrollLeft:Object(o.b)())}},scrollPositionInit(){const{left:t,top:e}=this.clientRect;this.scrollTarget?this.$nextTick(()=>{this.scroller.scrollLeft=-t,this.scroller.scrollTop=-e}):window.scrollTo(t+this.tleftWidth,e+this.container.paddingTop)},scrollHandle(){if(this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrolling=!0,this.scrollTimer=setTimeout(()=>{this.scrolling=!1,this.scrollTimer=void 0},250),this.selfScroll){const{top:t}=this.$refs.tbody.getBoundingClientRect(),e=-this.$refs.content.scrollLeft;this.clientRect={top:t-this.container.paddingTop,left:e,right:0,bottom:0}}else if(this.scrollTarget){const t=this.getPointOffsetParent();this.clientRect={top:t.top,left:t.left,right:0,bottom:0}}else{const{top:t,left:e,bottom:s,right:i}=this.$refs.tbody.getBoundingClientRect();this.clientRect={top:t-this.container.paddingTop,left:e-this.tleftWidth,bottom:s,right:i}}},resizeHandel(){this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>{this.update(),this.updateTimer=void 0},250)},update(){this.$nextTick(()=>{this.isFixLeft&&(this.tleftWidth=this.$refs.leftClone.offsetWidth)})},opacityFixed(t){const e=this[t+"Timer"];e&&(clearTimeout(e),this[t+"Timer"]=void 0),this[t]=!0,this[t+"Timer"]=setTimeout(()=>{this[t]=!1},400)}},watch:{offsetLeft(t){setTimeout(()=>{this.scrollHandle()},250)},"clientRect.top":function(t,e){this.fixed.top=t<0,t<0&&(n||this.useOpacity)&&this.opacityFixed("topChange")},"clientRect.left":function(t){this.fixed.left=t<this.offsetLeft,t<0&&(n||this.useOpacity)&&this.opacityFixed("topChange")}}}},"2lNz":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("5tFE"),l=s.n(i);e.default={components:{FixedTable:l.a},props:{data:Object},computed:{corner(){return this.data.thead.slice(0,2)},thead(){return this.data.thead.slice(2)},tbody(){return this.data.tbody}}}},"51yV":function(t,e,s){var i=s("VU/8")(s("z7y6"),s("Rn/j"),function(t){s("liTV")},null,null);t.exports=i.exports},"5tFE":function(t,e,s){var i=s("VU/8")(s("+IeH"),s("qcqz"),function(t){s("qn0E")},null,null);t.exports=i.exports},"7did":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("exGp"),l=s.n(i),o=s("5tFE"),r=(s.n(o),s("eNIl")),n=s.n(r),a=s("mtWM"),c=s.n(a);e.default={components:{demo:n.a},data:()=>({data:{thead:[],tbody:[]},index:1}),mounted(){this.getData()},methods:{getData(){var t=this;return l()(function*(){const e=yield c.a.post("https://www.easy-mock.com/mock/59e8918c21a50c465d91d78f/tableMock/list");t.data=e.data.data})()}}}},"A+uo":function(t,e,s){var i=s("VU/8")(s("7did"),s("zThj"),function(t){s("THHD")},null,null);t.exports=i.exports},"CxC/":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),l=s("A+uo"),o=s.n(l),r=s("Job/");s.n(r);i.a.config.devtools=!0,new i.a({render:t=>t(o.a)}).$mount("#app")},"Job/":function(t,e){},"L/hj":function(t,e,s){"use strict";e.c=function(){return document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop},e.b=function(){return document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft},e.a=function(t,e){const s=document.createElement("object");return s.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden;opacity: 0; pointer-events: none; z-index: -1;"),s.onload=(()=>{s.contentDocument.defaultView.addEventListener("resize",e,!1)}),s.type="text/html",t.appendChild(s),s.data="about:blank",s};e.d=function(t,e){if(!t||!e)return null;"float"===e&&(e="cssFloat");try{const s=document.defaultView.getComputedStyle(t,"");return t.style[e]||s?s[e]:null}catch(s){return t.style[e]}}},"Rn/j":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.bottom&&t.virtualPercent<1,expression:"bottom !== 0 && virtualPercent < 1"}],ref:"scroller",staticClass:"virtual-scroll overhidden",style:t.style},[s("div",{ref:"bar",staticClass:"virtual-scroll-bar",style:t.barLeft})])},staticRenderFns:[]}},S99R:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("FixedTable",t._b({},"FixedTable",t.$attrs,!1),[s("template",{attrs:{slot:"fixCorner"},slot:"fixCorner"},[s("tr",t._l(t.corner,function(e){return s("th",[t._v(t._s(e))])}))]),s("template",{attrs:{slot:"fixleft"},slot:"fixleft"},t._l(t.tbody,function(e){return s("tr",t._l(e.td.slice(0,2),function(e){return s("td",[t._v(t._s(e))])}))})),s("template",{attrs:{slot:"thead"},slot:"thead"},[s("tr",t._l(t.thead,function(e){return s("th",[t._v(t._s(e))])}))]),s("template",{attrs:{slot:"tbody"},slot:"tbody"},t._l(t.tbody,function(e){return s("tr",t._l(e.td.slice(2),function(e){return s("td",[t._v(t._s(e))])}))}))],2)},staticRenderFns:[]}},T6ph:function(t,e){},THHD:function(t,e){},eNIl:function(t,e,s){var i=s("VU/8")(s("2lNz"),s("S99R"),function(t){s("T6ph")},null,null);t.exports=i.exports},liTV:function(t,e){},qcqz:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rel"},[s("div",{ref:"content",staticClass:"fixed-table-container",class:{"scroll-container":t.selfScroll},style:t.containerStyle},[t.$slots.fixleft?s("table",{ref:"leftClone",staticClass:"fixed-table table-clone left fixed-table-opacity",style:t.leftStyle},[t.$slots.fixCorner?s("thead",{staticClass:"fixed-table corner fixed-table-opacity",style:t.cornerStyle},[t._t("fixCorner")],2):t._e(),s("tbody",[t._t("fixleft")],2)]):t._e(),s("table",{ref:"tbody",staticClass:"fixed-table",staticStyle:{"margin-left":"-1px"}},[s("thead",{ref:"thead",staticClass:"fixed-table-opacity",style:t.theadStyle},[t._t("thead")],2),s("tbody",[t._t("tbody")],2)])]),t.selfScroll?s("scrollxbar"):t._e()],1)},staticRenderFns:[]}},qn0E:function(t,e){},z7y6:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("L/hj");e.default={data:()=>({scrollWidth:0,scrollLeft:0,virtualPercent:0,virtualMouseDownX:0,resizeTimer:null,scrollTimer:null,bar:{},target:{},scrollIng:!1,bottom:0,iframe:{}}),computed:{barLeft(){let t=this.scrollLeft*this.virtualPercent;return isNaN(t)&&(t=0),{transform:`translate3d(${t}px, 0px, 0px)`,width:100*this.virtualPercent+"%"}},style(){return{transform:`translate3d(0px, ${-this.bottom}px, 0px)`,opacity:this.scrollIng?0:1}}},mounted(){this.bar=this.$refs.bar,this.target=this.$el.previousElementSibling,this.bar.addEventListener("mousedown",this.barMouseDownHandle,!1),this.refreshScroll(),this.windowScrollHandle(),window.addEventListener("scroll",this.windowScrollHandle,!1),this.target.addEventListener("scroll",this.targetScrollHandle,!1),this.iframe=Object(i.a)(this.target,this.refreshScroll)},destroyed(){this.target.removeEventListener("scroll",this.targetScrollHandle),this.bar.removeEventListener("mousedown",this.barMouseDownHandle),window.removeEventListener("scroll",this.windowScrollHandle),this.iframe.removeEventListener("resize",this.refreshScroll)},methods:{windowScrollHandle(t){this.scrollIng=!0,this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{const{bottom:t}=this.target.getBoundingClientRect();let e=t-document.documentElement.clientHeight;(e<0||e>this.target.offsetHeight)&&(e=0),this.bottom=e,this.scrollIng=!1,this.scrollTimer=null},100)},targetScrollHandle(){this.scrollLeft=this.target.scrollLeft},refreshScroll(t){this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{this._isDestroyed||(this.scrollWidth=this.target.scrollWidth-(this.target.offsetWidth||this.target.clientWidth),(this.scrollLeft>this.scrollWidth||0===this.scrollWidth)&&(this.scrollLeft=0),this.virtualPercent=this.target.offsetWidth/this.target.scrollWidth,this.resizeTimer=null,this.windowScrollHandle())},100)},barMouseDownHandle(t){0===t.button&&(this.virtualMouseDownX=t.pageX,document.body.addEventListener("mousemove",this.mousemoveHandle,!1),document.body.classList.add("no-select"),document.body.addEventListener("mouseup",this.bodyMouseUpHandle,!1))},mousemoveHandle(t){const e=t.pageX-this.virtualMouseDownX,s=e/this.virtualPercent;e>0?this.up(s):this.down(-s),this.virtualMouseDownX=t.pageX},bodyMouseUpHandle(){document.body.removeEventListener("mousemove",this.mousemoveHandle,!1),document.body.removeEventListener("mouseup",this.bodyMouseUpHandle,!1),document.body.classList.remove("no-select")},down(t){this.scrollLeft=this.scrollLeft-t>0?this.scrollLeft-t:0},up(t){this.scrollLeft=this.scrollLeft+t>this.scrollWidth?this.scrollWidth:this.scrollLeft+t}},watch:{scrollLeft:function(t){this.target.scrollLeft=t}}}},zThj:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"main-container",class:{full:2===t.index,"width-full":3===t.index}},[s("div",{staticClass:"sidebar"},[s("div",{staticClass:"menu-container"},[s("div",{staticClass:"root-menu",class:{active:1===t.index},on:{click:function(e){t.index=1}}},[s("div",{staticClass:"menu-title flex align-center"},[t._v("\n                    表格一\n                ")])]),s("div",{staticClass:"root-menu",class:{active:2===t.index},on:{click:function(e){t.index=2}}},[s("div",{staticClass:"menu-title flex align-center"},[t._v("\n                    表格二\n                ")])]),s("div",{staticClass:"root-menu",class:{active:3===t.index},on:{click:function(e){t.index=3}}},[s("div",{staticClass:"menu-title flex align-center"},[t._v("\n                    表格三\n                ")])])])]),s("div",{staticClass:"main-wraper"},[1===t.index?s("div",{staticClass:"view"},[s("div",{staticClass:"view-title"},[t._v("\n                表格一:全局滚动.滚动时固定顶部和左侧栏\n            ")]),s("div",{staticClass:"view-content"},[s("demo",{attrs:{data:t.data,offsetLeft:200}})],1)]):t._e(),2===t.index?s("div",{staticClass:"view"},[s("div",{staticClass:"view-title"},[t._v("\n                表格二:容器内局部滚动,滚动时在容器内固定顶部和左侧\n            ")]),s("div",{staticClass:"view-content"},[s("div",{staticClass:"scroll-container",attrs:{id:"scroll"}},[s("demo",{attrs:{data:t.data,scrollTarget:"#scroll"}})],1)])]):t._e(),3===t.index?s("div",{staticClass:"view"},[s("div",{staticClass:"view-title"},[t._v("\n                表格三:高度跟随全局,固定宽度且x轴滚动. 出现虚拟x滚动条.解决滚动条太下无法拖动问题.\n            ")]),s("div",{staticClass:"view-content"},[s("demo",{attrs:{data:t.data,"self-scroll":""}})],1)]):t._e()])])},staticRenderFns:[]}}},["CxC/"]);